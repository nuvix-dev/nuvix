# ============================================================================
# NUVIX ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update values for your environment.
# Required fields are marked with [REQUIRED]. Others have sensible defaults.
# ============================================================================

# ----------------------------------------------------------------------------
# SECURITY & ENCRYPTION [REQUIRED]
# ----------------------------------------------------------------------------
# JWT secret for signing tokens (use a strong random string)
NUVIX_JWT_SECRET="your_jwt_secret_key"

# General purpose encryption key for sensitive data
NUVIX_ENCRYPTION_KEY="your_encryption_key"

# Database field-level encryption key (MUST be exactly 16 characters)
NUVIX_DATABASE_ENCRYPTION_KEY="yourdb1234567key"

# ----------------------------------------------------------------------------
# APPLICATION & DOMAIN
# ----------------------------------------------------------------------------
NUVIX_NAME=Nuvix
NUVIX_REGION=local
NUVIX_PROJECT_ID=default

# Domain configuration
NUVIX_DOMAIN=localhost
NUVIX_HOSTNAME=localhost
NUVIX_HOSTNAME_INTERNAL=localhost
NUVIX_CONSOLE_URL=http://localhost:3000
NUVIX_FORCE_HTTPS=disabled

# Server ports
NUVIX_API_PORT=4000
NUVIX_CONSOLE_PORT=4100

# ----------------------------------------------------------------------------
# COOKIE SETTINGS
# ----------------------------------------------------------------------------
# Set to your domain in production (e.g., .yourdomain.com)
NUVIX_COOKIE_DOMAIN="localhost"
NUVIX_COOKIE_SAMESITE=lax  # Options: none, lax, strict

# ----------------------------------------------------------------------------
# DATABASE (PostgreSQL)
# ----------------------------------------------------------------------------
NUVIX_DATABASE_HOST=localhost
NUVIX_DATABASE_PORT=5432
NUVIX_DATABASE_NAME=platform
NUVIX_DATABASE_ADMIN_PASSWORD="CHANGE_ME_STRONG"
NUVIX_DATABASE_PASSWORD="CHANGE_ME_STRONG"
NUVIX_DATABASE_SSL=false
NUVIX_DATABASE_MAX_CONNECTIONS=40

# Connection pooling (PgBouncer/PgCat)
NUVIX_DATABASE_POOL_HOST=localhost
NUVIX_DATABASE_POOL_PORT=6432
NUVIX_DATABASE_USE_EXTERNAL_POOL=false

# PgCat admin credentials
NUVIX_PGCAT_ADMIN_USER=pgcat_admin
NUVIX_PGCAT_ADMIN_PASSWORD=pgcat_password

# ----------------------------------------------------------------------------
# REDIS
# ----------------------------------------------------------------------------
NUVIX_REDIS_HOST=localhost
NUVIX_REDIS_PORT=6379
NUVIX_REDIS_USER=""
NUVIX_REDIS_PASSWORD=""
NUVIX_REDIS_DB=0
NUVIX_REDIS_SECURE=false

# ----------------------------------------------------------------------------
# SMTP / EMAIL
# ----------------------------------------------------------------------------
NUVIX_SMTP_HOST=""
NUVIX_SMTP_PORT=587
NUVIX_SMTP_SECURE=false
NUVIX_SMTP_USER=""
NUVIX_SMTP_PASSWORD=""

# Email addresses
NUVIX_SMTP_EMAIL_FROM=""
NUVIX_SMTP_SENDER=""
NUVIX_SMTP_REPLY_TO=""

# DKIM signing (optional)
NUVIX_SMTP_DKIM_DOMAIN=""
NUVIX_SMTP_DKIM_KEY=""
NUVIX_SMTP_DKIM_PRIVATE_KEY=""

# System email addresses
NUVIX_SYSTEM_EMAIL_ADDRESS=support@nuvix.in
NUVIX_EMAIL_TEAM=""
NUVIX_EMAIL_SECURITY=""

# ----------------------------------------------------------------------------
# STORAGE & ASSETS
# ----------------------------------------------------------------------------
# Asset directories
NUVIX_ASSETS_ROOT=assets
NUVIX_ASSETS_PUBLIC=public
ASSETS_IMAGES=assets/images
ASSETS_FONTS=assets/fonts

# Storage limits (in bytes)
NUVIX_STORAGE_MAX_SIZE=5000000000      # 5GB per file
NUVIX_STORAGE_LIMIT=10000000000        # 10GB total

# ----------------------------------------------------------------------------
# CORS
# ----------------------------------------------------------------------------
# Comma-separated origins (override in .env.platform or .env.server)
NUVIX_CORS_ORIGIN=http://localhost:3000
NUVIX_CORS_HEADERS=""

# ----------------------------------------------------------------------------
# DEFAULT ADMIN USER [REQUIRED] (required for initial setup)
# ----------------------------------------------------------------------------
NUVIX_ADMIN_EMAIL=""
NUVIX_ADMIN_PASSWORD=""

# ----------------------------------------------------------------------------
# LIMITS & QUOTAS
# ----------------------------------------------------------------------------
# Pagination
NUVIX_LIMIT_PAGING=12

# User limits
NUVIX_LIMIT_USERS=10000
NUVIX_LIMIT_USER_PASSWORD_HISTORY=10
NUVIX_LIMIT_USER_SESSIONS_MAX=100
NUVIX_LIMIT_USER_SESSIONS_DEFAULT=10

# Cache TTL (seconds)
NUVIX_CACHE_UPDATE=86400

# ----------------------------------------------------------------------------
# PERFORMANCE & BATCH PROCESSING
# ----------------------------------------------------------------------------
NUVIX_BATCH_SIZE=5000
NUVIX_BATCH_INTERVAL_MS=5000

# Rate limiting
NUVIX_ENABLE_THROTTLING=true

# ----------------------------------------------------------------------------
# DEBUGGING & LOGGING
# ----------------------------------------------------------------------------
# Log levels (comma-separated: log, error, warn, debug, verbose)
NUVIX_LOG_LEVELS=log,error,warn

# Debug output options
NUVIX_DEBUG_COLORS=false
NUVIX_DEBUG_JSON=false
NUVIX_DEBUG_ERRORS=false

# Enable API request logging
NUVIX_ENABLE_LOGS=true

# Enable metrics collection
NUVIX_ENABLE_STATS=true
